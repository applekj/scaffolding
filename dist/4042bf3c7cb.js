(self.webpackChunkscaffolding=self.webpackChunkscaffolding||[]).push([[404],{8404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C}),n(6531);var r=n(8222),a=n(7154),s=n.n(a),c=(n(1774),n(9676)),o=(n(1759),n(5116)),l=(n(3673),n(5779)),i=n(7757),u=n.n(i),p=n(6479),m=n.n(p),d=n(8926),b=n.n(d),f=(n(5398),n(2549)),g=n(3038),y=n.n(g),w=n(7294),O=n(9669),h=n.n(O),v=n(9713),E=n.n(v);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={username:"",password:"",btnLoading:!1,msg:"",btnDisabled:!1},k=function(e,t){switch(t.type){case"login":return j(j({},e),{},{btnLoading:!0,msg:""});case"success":return j(j({},e),{},{btnLoading:!1,msg:t.payload.msg,btnDisabled:!0});case"error":return j(j({},e),{},{msg:t.payload.msg,username:"",password:"",btnLoading:!1,btnDisabled:!1});default:return e}},D={labelCol:{span:8},wrapperCol:{span:16}},x={wrapperCol:{offset:8,span:16}};const C=function(){var e=(0,w.useReducer)(k,Z),t=y()(e,2),n=t[0],a=t[1],i=(n.username,n.password,n.btnLoading),p=n.msg,d=n.btnDisabled;(0,w.useEffect)((function(){p&&f.ZP.success(p)}),[p]);var g=function(){var e=b()(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h().get("/api/login");case 3:t=e.sent,n=t.data,m()(t,["data"]),0==n.code&&a({type:"success",payload:{msg:n.message}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"error",payload:{msg:"登录失败"}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return w.createElement("div",{style:{padding:"20px 20px 0"}},w.createElement(o.Z,s()({},D,{name:"basic",initialValues:{remember:!0},onFinish:function(e){a({type:"login"}),g()},onFinishFailed:function(e){console.log(e)},style:{width:"600px"}}),w.createElement(o.Z.Item,{label:"用户名",name:"username",rules:[{required:!0,message:"Please input your username!"}]},w.createElement(l.Z,null)),w.createElement(o.Z.Item,{label:"密码",name:"password",rules:[{required:!0,message:"Please input your password!"}]},w.createElement(l.Z.Password,null)),w.createElement(o.Z.Item,s()({},x,{name:"remember",valuePropName:"checked"}),w.createElement(c.Z,null,"记住账号")),w.createElement(o.Z.Item,x,w.createElement(r.Z,{type:"primary",htmlType:"submit",loading:i,disabled:d},"登录"))))}}}]);